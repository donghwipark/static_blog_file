(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(e,t,n){},122:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"showModal",function(){return F}),n.d(a,"hideModal",function(){return q}),n.d(a,"login",function(){return Q}),n.d(a,"logout",function(){return X}),n.d(a,"checkLogin",function(){return $}),n.d(a,"changePasswordInput",function(){return Y}),n.d(a,"initializeLoginModal",function(){return ee}),n.d(a,"tempLogin",function(){return te}),n.d(a,"default",function(){return ae});var r={};n.r(r),n.d(r,"getPostList",function(){return Ue}),n.d(r,"default",function(){return He});var o={};n.r(o),n.d(o,"getPost",function(){return ut}),n.d(o,"removePost",function(){return dt}),n.d(o,"default",function(){return mt});var c={};n.r(c),n.d(c,"initialize",function(){return Ht}),n.d(c,"changeInput",function(){return Wt}),n.d(c,"writePost",function(){return Kt}),n.d(c,"getPost",function(){return Jt}),n.d(c,"editPost",function(){return Vt}),n.d(c,"default",function(){return Ft});var i={};n.r(i),n.d(i,"editor",function(){return Ft}),n.d(i,"list",function(){return He}),n.d(i,"post",function(){return mt}),n.d(i,"base",function(){return ae}),n.d(i,"pender",function(){return z.penderReducer});var s,l,u=n(0),d=n.n(u),p=n(30),m=n.n(p),b=n(11),f=n(24),h=n(51),g=n.n(h),v=n(1),O=n.n(v),j=n(2),E=n(3),y=n(5),w=n(4),k=n(6),P=n(52),N=n.n(P),C=n(73),I=n(53),A=n.n(I),S=O.a.bind(A.a),L=function(e){var t=e.children,n=Object(C.a)(e,["children"]);return d.a.createElement("div",n,t)},M=function(e){var t=e.children,n=e.to,a=e.onClick,r=e.disabled,o=e.theme,c=void 0===o?"default":o,i=n&&!r?b.b:L;return d.a.createElement(i,{to:n,className:S("button",c,{disabled:r}),onClick:r?function(){return null}:a},t)},D=O.a.bind(N.a),T=function(e){var t=e.postId,n=e.logged,a=e.onRemove;return d.a.createElement("header",{className:D("header")},d.a.createElement("div",{className:D("header-content")},d.a.createElement("div",{className:D("brand")},d.a.createElement(b.b,{to:"/"},"Eastlead")),n&&d.a.createElement("div",{className:D("right")},t&&[d.a.createElement(M,{key:"edit",theme:"outline",to:"/editor?id=".concat(t)},"edit"),d.a.createElement(M,{key:"remove",theme:"outline",onClick:a},"remove")],d.a.createElement(M,{theme:"outline",to:"/editor"},"New Post"))))},_=n(12),G=n(124),x=n(123),B=n(16),z=n(14),U=n.n(z),R=n(23),H=n.n(R),W=n(26),K=n.n(W),J="http://ec2-3-17-61-152.us-east-2.compute.amazonaws.com:4000",V=function(e){return H.a.get("".concat(J,"/api/posts/").concat(e))};function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var F=Object(G.a)("base/SHOW_MODAL"),q=Object(G.a)("base/HIDE_MODAL"),Q=Object(G.a)("base/LOGIN",function(e){return H.a.post("".concat(J,"/api/auth/login"),{password:e})}),X=Object(G.a)("base/LOGOUT",function(){return H.a.post("".concat(J,"/api/auth/logout"))}),$=Object(G.a)("base/CHECK_LOGIN",function(){return H.a.get("".concat(J,"/api/auth/check"))}),Y=Object(G.a)("base/CHANGE_PASSWORD_INPUT"),ee=Object(G.a)("base/INITIALIZE_LOGIN_MODAL"),te=Object(G.a)("base/TEMP_LOGIN"),ne=Object(B.b)({modal:Object(B.b)({remove:!1,login:!1}),loginModal:Object(B.b)({password:"",error:!1}),logged:!1}),ae=Object(x.a)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach(function(t){Object(_.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}((s={},Object(_.a)(s,"base/SHOW_MODAL",function(e,t){var n=t.payload;return e.setIn(["modal",n],!0)}),Object(_.a)(s,"base/HIDE_MODAL",function(e,t){var n=t.payload;return e.setIn(["modal",n],!1)}),s),Object(z.pender)({type:"base/LOGIN",onSuccess:function(e,t){return e.set("logged",!0)},onError:function(e,t){return e.setIn(["loginModal","error"],!0).setIn(["loginModal","password"],"")}}),{},Object(z.pender)({type:"base/CHECK_LOGIN",onSuccess:function(e,t){var n=t.payload.data.logged;return e.set("logged",n)}}),(l={},Object(_.a)(l,"base/CHANGE_PASSWORD_INPUT",function(e,t){var n=t.payload;return e.setIn(["loginModal","password"],n)}),Object(_.a)(l,"base/INITIALIZE_LOGIN_MODAL",function(e,t){return e.set("loginModal",ne.get("loginModal"))}),Object(_.a)(l,"base/TEMP_LOGIN",function(e,t){return e.set("logged",!0)}),l)),ne),re=n(9),oe=n(8),ce=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).handleRemove=function(){n.props.BaseActions.showModal("remove")},n}return Object(k.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.handleRemove,t=this.props,n=t.match,a=t.logged,r=n.params.id;return d.a.createElement(T,{postId:r,logged:a,onRemove:e})}}]),t}(u.Component),ie=Object(re.b)(function(e){return{logged:e.base.get("logged")}},function(e){return{BaseActions:Object(oe.b)(a,e)}})(Object(f.f)(ce)),se=n(10),le=n.n(se),ue=n(56),de=n.n(ue),pe=O.a.bind(de.a),me=function(e){var t=e.onLoginClick,n=e.logged;return d.a.createElement("footer",{className:pe("footer")},d.a.createElement(b.b,{to:"/",className:pe("brand")},"Eastlead"),d.a.createElement("div",{onClick:t,className:pe("admin-login")},n?"Logout":"Admin Login"))},be=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).handleLoginClick=function(){var e,t;return le.a.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(e=n.props,t=e.BaseActions,!e.logged){a.next=12;break}return a.prev=2,a.next=5,le.a.awrap(X());case 5:window.location.reload(),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(2),console.log(a.t0);case 11:return a.abrupt("return");case 12:t.showModal("login"),t.initializeLoginModal();case 14:case"end":return a.stop()}},null,null,[[2,8]])},n}return Object(k.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.handleLoginClick,t=this.props.logged;return d.a.createElement(me,{onLoginClick:e,logged:t})}}]),t}(u.Component),fe=Object(re.b)(function(e){return{logged:e.base.get("logged")}},function(e){return{BaseActions:Object(oe.b)(a,e)}})(be),he=n(57),ge=n.n(he),ve=O.a.bind(ge.a),Oe=function(e){function t(){return Object(j.a)(this,t),Object(y.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return d.a.createElement("div",{className:ve("video-top")},d.a.createElement("div",{className:ve("iframe-container")},d.a.createElement("div",{className:ve("iframe-wrapper")},d.a.createElement("iframe",{title:"youtube video",frameborder:"0",width:"1280",height:"720",src:"https://www.youtube.com/embed/VSN4Bz1QGrU?autoplay=1",allow:"autoplay",allowFullScreen:!0}))))}}]),t}(u.Component),je=O.a.bind(g.a),Ee=function(e){var t=e.children;return d.a.createElement("div",{className:je("page-template")},d.a.createElement(ie,null),d.a.createElement(Oe,null),d.a.createElement("main",null,t),d.a.createElement(fe,null))},ye=n(58),we=n.n(ye),ke=O.a.bind(we.a),Pe=function(e){var t=e.children;return d.a.createElement("div",{className:ke("list-wrapper")},t)},Ne=n(59),Ce=n.n(Ne),Ie=n(32),Ae=n.n(Ie),Se=n(60),Le=n.n(Se),Me=O.a.bind(Ce.a),De=function(e){var t=e.title,n=e.body,a=e.publishedDate,r=e.tags,o=e.id,c=r.map(function(e){return d.a.createElement(b.b,{key:e,to:"/tag/".concat(e)},"#",e)});return d.a.createElement("div",{className:Me("post-item")},d.a.createElement("h2",null,d.a.createElement(b.b,{to:"post/".concat(o)},t)),d.a.createElement("div",{className:Me("date")},Ae()(a).format("ll")),d.a.createElement("p",null,Le()(n)),d.a.createElement("div",{className:Me("tags")},c))},Te=function(e){var t=e.posts.map(function(e){var t=e.toJS(),n=t._id,a=t.title,r=t.body,o=t.publishedDate,c=t.tags;return d.a.createElement(De,{title:a,body:r,publishedDate:o,tags:c,key:n,id:n})});return d.a.createElement("div",{className:Me("post-list")},t)},_e=n(61),Ge=n.n(_e),xe=O.a.bind(Ge.a),Be=function(e){var t=e.page,n=e.lastPage,a=e.tag,r=function(e){return a?"/tag/".concat(a,"/").concat(e):"/page/".concat(e)};return d.a.createElement("div",{className:xe("pagination")},d.a.createElement(M,{disabled:1===t,to:r(t-1)},"Previous Page"),d.a.createElement("div",{className:xe("number")},"Page ",t),d.a.createElement(M,{disabled:t===n,to:r(t+1)},"Next Page"))};function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var Ue=Object(G.a)("list/GET_POST_LIST",function(e){var t=e.tag,n=e.page;return H.a.get("".concat(J,"/api/posts/?").concat(K.a.stringify({tag:t,page:n})))},function(e){return e}),Re=Object(B.b)({posts:Object(B.a)(),lastPage:null}),He=Object(x.a)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach(function(t){Object(_.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},Object(z.pender)({type:"list/GET_POST_LIST",onSuccess:function(e,t){var n=t.payload.data,a=t.payload.headers["last-page"];return e.set("posts",Object(B.c)(n)).set("lastPage",parseInt(a,10))}})),Re),We=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).getPostList=function(){var e=n.props,t=e.tag,a=e.page;e.ListActions.getPostList({page:a,tag:t})},n}return Object(k.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.getPostList()}},{key:"componentDidUpdate",value:function(e,t){e.page===this.props.page&&e.tag===this.props.tag||(this.getPostList(),document.documentElement.scrollTop=0)}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.posts,a=e.page,r=e.lastPage,o=e.tag;return t?null:d.a.createElement("div",null,d.a.createElement(Te,{posts:n}),d.a.createElement(Be,{page:a,lastPage:r,tag:o}))}}]),t}(u.Component),Ke=Object(re.b)(function(e){return{lastPage:e.list.get("lastPage"),posts:e.list.get("posts"),loading:e.pender.pending["list/GET_POST_LIST"]}},function(e){return{ListActions:Object(oe.b)(r,e)}})(We),Je=function(e){var t=e.match.params,n=t.page,a=void 0===n?1:n,r=t.tag;return d.a.createElement(Ee,null,d.a.createElement(Pe,null,d.a.createElement(Ke,{page:parseInt(a,10),tag:r})))},Ve=n(62),Ze=n.n(Ve),Fe=O.a.bind(Ze.a),qe=function(e){var t=e.publishedDate,n=e.title,a=e.tags;return d.a.createElement("div",{className:Fe("post-info")},d.a.createElement("div",{className:Fe("info")},d.a.createElement("h1",null,n),d.a.createElement("div",{className:Fe("tags")},a&&a.map(function(e){return d.a.createElement(b.b,{key:e,to:"/tag/".concat(e)},"#",e)})),d.a.createElement("div",{className:Fe("date")},Ae()(t).format("ll"))))},Qe=n(63),Xe=n.n(Qe),$e=n(64),Ye=n.n($e),et=n(41),tt=n.n(et),nt=n(42),at=n.n(nt),rt=(n(109),n(110),n(111),n(112),n(113),O.a.bind(Ye.a)),ot=function(e){function t(e){var n;Object(j.a)(this,t),(n=Object(y.a)(this,Object(w.a)(t).call(this,e))).state={html:""},n.renderMarkdown=function(){var e=n.props.markdown;e?n.setState({html:tt()(e,{breaks:!0,sanitize:!0})}):n.setState({html:""})};var a=e.markdown;return n.state={html:a?tt()(e.markdown,{breaks:!0,sanitize:!0}):""},n}return Object(k.a)(t,e),Object(E.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.markdown!==this.props.markdown&&this.renderMarkdown(),t.html!==this.state.html&&at.a.highlightAll()}},{key:"componentDidMount",value:function(){at.a.highlightAll()}},{key:"render",value:function(){var e={__html:this.state.html};return d.a.createElement("div",{className:rt("markdown-render"),dangerouslySetInnerHTML:e})}}]),t}(u.Component),ct=O.a.bind(Xe.a),it=function(e){var t=e.body;return d.a.createElement("div",{className:ct("post-body")},d.a.createElement("div",{className:ct("paper")},d.a.createElement(ot,{markdown:t})))};function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var lt,ut=Object(G.a)("post/GET_POST",V),dt=Object(G.a)("post/REMOVE_POST",function(e){return H.a.delete("".concat(J,"/api/posts/").concat(e))}),pt=Object(B.b)({post:Object(B.b)({})}),mt=Object(x.a)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach(function(t){Object(_.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},Object(z.pender)({type:"post/GET_POST",onSuccess:function(e,t){var n=t.payload.data;return e.set("post",Object(B.c)(n))}})),pt),bt=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).initialize=function(){var e,t,a;return le.a.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e=n.props,t=e.PostActions,a=e.id,r.prev=1,r.next=4,le.a.awrap(t.getPost(a));case 4:r.next=9;break;case 6:r.prev=6,r.t0=r.catch(1),console.log(r.t0);case 9:case"end":return r.stop()}},null,null,[[1,6]])},n}return Object(k.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.initialize()}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.post;if(t)return null;var a=n.toJS(),r=a.title,o=a.body,c=a.publishedDate,i=a.tags;return d.a.createElement("div",null,d.a.createElement(qe,{title:r,publishedDate:c,tags:i}),d.a.createElement(it,{body:o}))}}]),t}(u.Component),ft=Object(re.b)(function(e){return{post:e.post.get("post"),loading:e.pender.pending["post/GET_POST"]}},function(e){return{PostActions:Object(oe.b)(o,e)}})(bt),ht=n(65),gt=n.n(ht),vt=n(66),Ot=n.n(vt),jt=O.a.bind(Ot.a),Et=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={animate:!1},n.startAnimations=function(){n.setState({animate:!0}),setTimeout(function(){n.setState({animate:!1})},250)},n}return Object(k.a)(t,e),Object(E.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.visible!==this.props.visible&&this.startAnimations()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.visible,a=this.state.animate;if(!n&&!a)return null;var r=a&&(n?"enter":"leave");return d.a.createElement("div",null,d.a.createElement("div",{className:jt("gray-background",r)}),d.a.createElement("div",{className:jt("modal-wrapper")},d.a.createElement("div",{className:jt("modal",r)},t)))}}]),t}(u.Component),yt=O.a.bind(gt.a),wt=function(e){var t=e.visible,n=e.onConfirm,a=e.onCancel;return d.a.createElement(Et,{visible:t},d.a.createElement("div",{className:yt("question")},d.a.createElement("div",{className:yt("title")},"Remove Post"),d.a.createElement("div",{className:yt("description")},"Do you want to delete the Post?")),d.a.createElement("div",{className:yt("options")},d.a.createElement(M,{theme:"gray",onClick:a},"Cancel"),d.a.createElement(M,{onClick:n},"Remove")))},kt=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).handleCancel=function(){n.props.BaseActions.hideModal("remove")},n.handleConfirm=function(){var e,t,a,r,o,c;return le.a.async(function(i){for(;;)switch(i.prev=i.next){case 0:return e=n.props,t=e.BaseActions,a=e.PostActions,r=e.history,o=e.match,c=o.params.id,i.prev=2,i.next=5,le.a.awrap(a.removePost(c));case 5:t.hideModal("remove"),r.push("/"),i.next=12;break;case 9:i.prev=9,i.t0=i.catch(2),console.log(i.t0);case 12:case"end":return i.stop()}},null,null,[[2,9]])},n}return Object(k.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.visible,t=this.handleCancel,n=this.handleConfirm;return d.a.createElement(wt,{visible:e,onCancel:t,onConfirm:n})}}]),t}(u.Component),Pt=Object(re.b)(function(e){return{visible:e.base.getIn(["modal","remove"])}},function(e){return{BaseActions:Object(oe.b)(a,e),PostActions:Object(oe.b)(o,e)}})(Object(f.f)(kt)),Nt=function(e){var t=e.match.params.id;return d.a.createElement(Ee,null,d.a.createElement(ft,{id:t}),d.a.createElement(Pt,null))},Ct=n(67),It=n.n(Ct),At=O.a.bind(It.a),St=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={leftPercentage:.5},n.handleMouseMove=function(e){n.setState({leftPercentage:e.clientX/window.innerWidth})},n.handleMouseUp=function(e){document.body.removeEventListener("mousemove",n.handleMouseMove),window.removeEventListener("mouseup",n.handleMouseUp)},n.handleSeparatorMouseDown=function(e){document.body.addEventListener("mousemove",n.handleMouseMove),window.addEventListener("mouseup",n.handleMouseUp)},n}return Object(k.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.header,n=e.editor,a=e.preview,r=this.state.leftPercentage,o=this.handleSeparatorMouseDown,c={flex:r},i={flex:1-r},s={left:"".concat(100*r,"%")};return d.a.createElement("div",{className:At("editor-template")},t,d.a.createElement("div",{className:At("panes")},d.a.createElement("div",{className:At("pane","editor"),style:c},n),d.a.createElement("div",{className:At("pane","preview"),style:i},a),d.a.createElement("div",{className:At("separator"),style:s,onMouseDown:o})))}}]),t}(u.Component),Lt=n(68),Mt=n.n(Lt),Dt=O.a.bind(Mt.a),Tt=function(e){var t=e.onGoBack,n=e.onSubmit,a=e.isEdit;return d.a.createElement("div",{className:Dt("editor-header")},d.a.createElement("div",{className:Dt("back")},d.a.createElement(M,{onClick:t,theme:"outline"},"Go back")),d.a.createElement("div",{className:Dt("submit")},d.a.createElement(M,{onClick:n,theme:"outline"},a?"Edit":"Submit")))},_t=n(69),Gt=n.n(_t),xt=n(22),Bt=n.n(xt),zt=(n(114),n(50),n(116),n(117),n(118),n(119),n(120),O.a.bind(Gt.a)),Ut=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).editor=null,n.codeMirror=null,n.cursor=null,n.initializeEditor=function(){n.codeMirror=Bt()(n.editor,{mode:"markdown",theme:"monokai",lineNumbers:!0,lineWrapping:!0}),n.codeMirror.on("change",n.handleChangeMarkdown)},n.handleChange=function(e){var t=n.props.onChangeInput,a=e.target,r=a.value;t({name:a.name,value:r})},n.handleChangeMarkdown=function(e){var t=n.props.onChangeInput;n.cursor=e.getCursor(),t({name:"markdown",value:e.getValue()})},n}return Object(k.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.initializeEditor()}},{key:"componentDidUpdate",value:function(e,t){if(e.markdown!==this.props.markdown){var n=this.codeMirror,a=this.cursor;if(!n)return;if(n.setValue(this.props.markdown),!a)return;n.setCursor(a)}}},{key:"render",value:function(){var e=this,t=this.handleChange,n=this.props,a=n.tags,r=n.title;return d.a.createElement("div",{className:zt("editor-pane")},d.a.createElement("input",{className:zt("title"),placeholder:"Write the title",name:"title",value:r,onChange:t}),d.a.createElement("div",{className:zt("code-editor"),ref:function(t){return e.editor=t}}),d.a.createElement("div",{className:zt("tags")},d.a.createElement("div",{className:zt("description")},"Tag"),d.a.createElement("input",{name:"tags",placeholder:"Input the tag (seperate with ,)",value:a,onChange:t})))}}]),t}(u.Component);function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var Ht=Object(G.a)("editor/INITIALIZE"),Wt=Object(G.a)("editor/CHANGE_INPUT"),Kt=Object(G.a)("editor/WRITE_POST",function(e){var t=e.title,n=e.body,a=e.tags;return H.a.post("".concat(J,"/api/posts"),{title:t,body:n,tags:a})}),Jt=Object(G.a)("editor/GET_POST",V),Vt=Object(G.a)("editor/EDIT_POST",function(e){var t=e.id,n=e.title,a=e.body,r=e.tags;return H.a.patch("".concat(J,"/api/posts/").concat(t),{title:n,body:a,tags:r})}),Zt=Object(B.b)({title:"",markdown:"",tags:"",postId:null}),Ft=Object(x.a)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach(function(t){Object(_.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}((lt={},Object(_.a)(lt,"editor/INITIALIZE",function(e,t){return Zt}),Object(_.a)(lt,"editor/CHANGE_INPUT",function(e,t){var n=t.payload,a=n.name,r=n.value;return e.set(a,r)}),lt),Object(z.pender)({type:"editor/WRITE_POST",onSuccess:function(e,t){var n=t.payload.data._id;return e.set("postId",n)}}),{},Object(z.pender)({type:"editor/GET_POST",onSuccess:function(e,t){var n=t.payload.data,a=n.title,r=n.tags,o=n.body;return e.set("title",a).set("markdown",o).set("tags",r.join(", "))}})),Zt),qt=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).handleChangeInput=function(e){var t=e.name,a=e.value;n.props.EditorActions.changeInput({name:t,value:a})},n}return Object(k.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.tags,a=e.markdown,r=this.handleChangeInput;return d.a.createElement(Ut,{title:t,markdown:a,tags:n,onChangeInput:r})}}]),t}(u.Component),Qt=Object(re.b)(function(e){return{title:e.editor.get("title"),markdown:e.editor.get("markdown"),tags:e.editor.get("tags")}},function(e){return{EditorActions:Object(oe.b)(c,e)}})(qt),Xt=n(70),$t=n.n(Xt),Yt=O.a.bind($t.a),en=function(e){var t=e.markdown,n=e.title;return d.a.createElement("div",{className:Yt("preview-pane")},d.a.createElement("h1",{className:Yt("title")},n),d.a.createElement("div",null,d.a.createElement(ot,{markdown:t})))},tn=function(e){function t(){return Object(j.a)(this,t),Object(y.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.markdown,n=e.title;return d.a.createElement(en,{title:n,markdown:t})}}]),t}(u.Component),nn=Object(re.b)(function(e){return{title:e.editor.get("title"),markdown:e.editor.get("markdown")}})(tn),an=n(72);function rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function on(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rn(Object(n),!0).forEach(function(t){Object(_.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var cn=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).handleGoback=function(){n.props.history.goBack()},n.handleSubmit=function(){var e,t,a,r,o,c,i,s,l,u;return le.a.async(function(d){for(;;)switch(d.prev=d.next){case 0:if(e=n.props,t=e.title,a=e.markdown,r=e.tags,o=e.EditorActions,c=e.history,i=e.location,s={title:t,body:a,tags:""===r?[]:Object(an.a)(new Set(r.split(",").map(function(e){return e.trim()})))},d.prev=2,l=K.a.parse(i.search),!(u=l.id)){d.next=9;break}return d.next=7,le.a.awrap(o.editPost(on({id:u},s)));case 7:return c.push("/post/".concat(u)),d.abrupt("return");case 9:return d.next=11,le.a.awrap(o.writePost(s));case 11:c.push("/post/".concat(n.props.postId)),d.next=17;break;case 14:d.prev=14,d.t0=d.catch(2),console.log(d.t0);case 17:case"end":return d.stop()}},null,null,[[2,14]])},n}return Object(k.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.EditorActions,n=e.location;t.initialize();var a=K.a.parse(n.search).id;a&&t.getPost(a)}},{key:"render",value:function(){var e=this.handleGoback,t=this.handleSubmit,n=K.a.parse(this.props.location.search).id;return d.a.createElement(Tt,{onGoBack:e,onSubmit:t,isEdit:!!n})}}]),t}(u.Component),sn=Object(re.b)(function(e){return{title:e.editor.get("title"),markdown:e.editor.get("markdown"),tags:e.editor.get("tags"),postId:e.editor.get("postId")}},function(e){return{EditorActions:Object(oe.b)(c,e)}})(Object(f.f)(cn)),ln=function(){return d.a.createElement(St,{header:d.a.createElement(sn,null),editor:d.a.createElement(Qt,null),preview:d.a.createElement(nn,null)})},un=function(){return d.a.createElement("div",null,"NotFound")},dn=n(71),pn=n.n(dn),mn=O.a.bind(pn.a),bn=function(e){var t=e.visible,n=e.password,a=e.error,r=e.onCancel,o=e.onLogin,c=e.onChange,i=e.onKeyPress;return d.a.createElement(Et,{visible:t},d.a.createElement("div",{className:mn("form")},d.a.createElement("div",{onClick:r,className:mn("close")},"\xd7"),d.a.createElement("div",{className:mn("title")},"Login"),d.a.createElement("div",{className:mn("description")},"Please enter your password"),d.a.createElement("input",{autoFocus:!0,type:"password",placeholder:"input password",value:n,onChange:c,onKeyPress:i}),a&&d.a.createElement("div",{className:mn("error")},"Login failed"),d.a.createElement("div",{className:mn("login"),onClick:o},"Login")))},fn=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).handleLogin=function(){var e,t,a;return le.a.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e=n.props,t=e.BaseActions,a=e.password,r.prev=1,r.next=4,le.a.awrap(t.login(a));case 4:t.hideModal("login"),localStorage.logged="true",r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),console.log(r.t0);case 11:case"end":return r.stop()}},null,null,[[1,8]])},n.handleCancel=function(){n.props.BaseActions.hideModal("login")},n.handleChange=function(e){var t=n.props.BaseActions,a=e.target.value;t.changePasswordInput(a)},n.handleKeyPress=function(e){"Enter"===e.key&&n.handleLogin()},n}return Object(k.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.handleLogin,t=this.handleCancel,n=this.handleChange,a=this.handleKeyPress,r=this.props,o=r.visible,c=r.error,i=r.password;return d.a.createElement(bn,{onLogin:e,onCancel:t,onChange:n,onKeyPress:a,visible:o,error:c,password:i})}}]),t}(u.Component),hn=Object(re.b)(function(e){return{visible:e.base.getIn(["modal","login"]),password:e.base.getIn(["loginModal","password"]),error:e.base.getIn(["loginModal","error"])}},function(e){return{BaseActions:Object(oe.b)(a,e)}})(fn),gn=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).initialize=function(){var e;return le.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:e=n.props.BaseActions,"true"===localStorage.logged&&e.tempLogin(),e.checkLogin();case 3:case"end":return t.stop()}})},n}return Object(k.a)(t,e),Object(E.a)(t,[{key:"comoponentDidMount",value:function(){this.initialize()}},{key:"render",value:function(){return d.a.createElement("div",null,d.a.createElement(hn,null))}}]),t}(u.Component),vn=Object(re.b)(null,function(e){return{BaseActions:Object(oe.b)(a,e)}})(gn),On=function(){return d.a.createElement("div",null,d.a.createElement(f.c,null,d.a.createElement(f.a,{exact:!0,path:"/",component:Je}),d.a.createElement(f.a,{path:"/page/:page",component:Je}),d.a.createElement(f.a,{path:"/tag/:tag/:page?",component:Je}),d.a.createElement(f.a,{path:"/post/:id",component:Nt}),d.a.createElement(f.a,{path:"/editor",component:ln}),d.a.createElement(f.a,{component:un})),d.a.createElement(vn,null))},jn=Object(oe.c)(i),En=[U()()],yn=oe.d,wn=function(e){return Object(oe.e)(jn,e,yn(oe.a.apply(void 0,En)))}(),kn=function(){return d.a.createElement(re.a,{store:wn},d.a.createElement(b.a,null,d.a.createElement(On,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(121);m.a.render(d.a.createElement(kn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},74:function(e,t,n){e.exports=n(122)}},[[74,1,2]]]);
//# sourceMappingURL=main.cfcc4085.chunk.js.map