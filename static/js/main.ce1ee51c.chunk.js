(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,t,n){},121:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"showModal",function(){return F}),n.d(a,"hideModal",function(){return q}),n.d(a,"login",function(){return X}),n.d(a,"logout",function(){return $}),n.d(a,"checkLogin",function(){return Q}),n.d(a,"changePasswordInput",function(){return Y}),n.d(a,"initializeLoginModal",function(){return ee}),n.d(a,"tempLogin",function(){return te}),n.d(a,"default",function(){return ae});var r={};n.r(r),n.d(r,"getPostList",function(){return Ge}),n.d(r,"default",function(){return Be});var o={};n.r(o),n.d(o,"getPost",function(){return ct}),n.d(o,"removePost",function(){return it}),n.d(o,"default",function(){return lt});var c={};n.r(c),n.d(c,"initialize",function(){return Bt}),n.d(c,"changeInput",function(){return zt}),n.d(c,"writePost",function(){return Rt}),n.d(c,"getPost",function(){return Ut}),n.d(c,"editPost",function(){return Ht}),n.d(c,"default",function(){return Kt});var i={};n.r(i),n.d(i,"editor",function(){return Kt}),n.d(i,"list",function(){return Be}),n.d(i,"post",function(){return lt}),n.d(i,"base",function(){return ae}),n.d(i,"pender",function(){return z.penderReducer});var s,l,u=n(0),d=n.n(u),p=n(30),b=n.n(p),m=n(11),f=n(24),g=n(51),h=n.n(g),v=n(1),O=n.n(v),j=n(2),E=n(3),y=n(5),w=n(4),k=n(6),P=n(52),N=n.n(P),C=n(72),I=n(53),A=n.n(I),S=O.a.bind(A.a),L=function(e){var t=e.children,n=Object(C.a)(e,["children"]);return d.a.createElement("div",n,t)},M=function(e){var t=e.children,n=e.to,a=e.onClick,r=e.disabled,o=e.theme,c=void 0===o?"default":o,i=n&&!r?m.b:L;return d.a.createElement(i,{to:n,className:S("button",c,{disabled:r}),onClick:r?function(){return null}:a},t)},D=O.a.bind(N.a),T=function(e){var t=e.postId,n=e.logged,a=e.onRemove;return d.a.createElement("header",{className:D("header")},d.a.createElement("div",{className:D("header-content")},d.a.createElement("div",{className:D("brand")},d.a.createElement(m.b,{to:"/"},"Eastlead blog")),n&&d.a.createElement("div",{className:D("right")},t&&[d.a.createElement(M,{key:"edit",theme:"outline",to:"/editor?id=".concat(t)},"edit"),d.a.createElement(M,{key:"remove",theme:"outline",onClick:a},"remove")],d.a.createElement(M,{theme:"outline",to:"/editor"},"New Post"))))},_=n(12),G=n(123),x=n(122),B=n(16),z=n(14),R=n.n(z),U=n(23),H=n.n(U),W=n(26),K=n.n(W),J="ec2-3-17-61-152.us-east-2.compute.amazonaws.com:4000",Z=function(e){return H.a.get(J+"/api/posts/".concat(e))};function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var F=Object(G.a)("base/SHOW_MODAL"),q=Object(G.a)("base/HIDE_MODAL"),X=Object(G.a)("base/LOGIN",function(e){return H.a.post("/api/auth/login",{password:e})}),$=Object(G.a)("base/LOGOUT",function(){return H.a.post("/api/auth/logout")}),Q=Object(G.a)("base/CHECK_LOGIN",function(){return H.a.get("/api/auth/check")}),Y=Object(G.a)("base/CHANGE_PASSWORD_INPUT"),ee=Object(G.a)("base/INITIALIZE_LOGIN_MODAL"),te=Object(G.a)("base/TEMP_LOGIN"),ne=Object(B.b)({modal:Object(B.b)({remove:!1,login:!1}),loginModal:Object(B.b)({password:"",error:!1}),logged:!1}),ae=Object(x.a)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach(function(t){Object(_.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}((s={},Object(_.a)(s,"base/SHOW_MODAL",function(e,t){var n=t.payload;return e.setIn(["modal",n],!0)}),Object(_.a)(s,"base/HIDE_MODAL",function(e,t){var n=t.payload;return e.setIn(["modal",n],!1)}),s),Object(z.pender)({type:"base/LOGIN",onSuccess:function(e,t){return e.set("logged",!0)},onError:function(e,t){return e.setIn(["loginModal","error"],!0).setIn(["loginModal","password"],"")}}),{},Object(z.pender)({type:"base/CHECK_LOGIN",onSuccess:function(e,t){var n=t.payload.data.logged;return e.set("logged",n)}}),(l={},Object(_.a)(l,"base/CHANGE_PASSWORD_INPUT",function(e,t){var n=t.payload;return e.setIn(["loginModal","password"],n)}),Object(_.a)(l,"base/INITIALIZE_LOGIN_MODAL",function(e,t){return e.set("loginModal",ne.get("loginModal"))}),Object(_.a)(l,"base/TEMP_LOGIN",function(e,t){return e.set("logged",!0)}),l)),ne),re=n(9),oe=n(8),ce=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).handleRemove=function(){n.props.BaseActions.showModal("remove")},n}return Object(k.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.handleRemove,t=this.props,n=t.match,a=t.logged,r=n.params.id;return d.a.createElement(T,{postId:r,logged:a,onRemove:e})}}]),t}(u.Component),ie=Object(re.b)(function(e){return{logged:e.base.get("logged")}},function(e){return{BaseActions:Object(oe.b)(a,e)}})(Object(f.f)(ce)),se=n(10),le=n.n(se),ue=n(56),de=n.n(ue),pe=O.a.bind(de.a),be=function(e){var t=e.onLoginClick,n=e.logged;return d.a.createElement("footer",{className:pe("footer")},d.a.createElement(m.b,{to:"/",className:pe("brand")},"Eastlead blog"),d.a.createElement("div",{onClick:t,className:pe("admin-login")},n?"Logout":"Admin Login"))},me=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).handleLoginClick=function(){var e,t;return le.a.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(e=n.props,t=e.BaseActions,!e.logged){a.next=12;break}return a.prev=2,a.next=5,le.a.awrap($());case 5:window.location.reload(),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(2),console.log(a.t0);case 11:return a.abrupt("return");case 12:t.showModal("login"),t.initializeLoginModal();case 14:case"end":return a.stop()}},null,null,[[2,8]])},n}return Object(k.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.handleLoginClick,t=this.props.logged;return d.a.createElement(be,{onLoginClick:e,logged:t})}}]),t}(u.Component),fe=Object(re.b)(function(e){return{logged:e.base.get("logged")}},function(e){return{BaseActions:Object(oe.b)(a,e)}})(me),ge=O.a.bind(h.a),he=function(e){var t=e.children;return d.a.createElement("div",{className:ge("page-template")},d.a.createElement(ie,null),d.a.createElement("main",null,t),d.a.createElement(fe,null))},ve=n(57),Oe=n.n(ve),je=O.a.bind(Oe.a),Ee=function(e){var t=e.children;return d.a.createElement("div",{className:je("list-wrapper")},t)},ye=n(58),we=n.n(ye),ke=n(32),Pe=n.n(ke),Ne=n(59),Ce=n.n(Ne),Ie=O.a.bind(we.a),Ae=function(e){var t=e.title,n=e.body,a=e.publishedDate,r=e.tags,o=e.id,c=r.map(function(e){return d.a.createElement(m.b,{key:e,to:"/tag/".concat(e)},"#",e)});return d.a.createElement("div",{className:Ie("post-item")},d.a.createElement("h2",null,d.a.createElement(m.b,{to:"post/".concat(o)},t)),d.a.createElement("div",{className:Ie("date")},Pe()(a).format("ll")),d.a.createElement("p",null,Ce()(n)),d.a.createElement("div",{className:Ie("tags")},c))},Se=function(e){var t=e.posts.map(function(e){var t=e.toJS(),n=t._id,a=t.title,r=t.body,o=t.publishedDate,c=t.tags;return d.a.createElement(Ae,{title:a,body:r,publishedDate:o,tags:c,key:n,id:n})});return d.a.createElement("div",{className:Ie("post-list")},t)},Le=n(60),Me=n.n(Le),De=O.a.bind(Me.a),Te=function(e){var t=e.page,n=e.lastPage,a=e.tag,r=function(e){return a?"/tag/".concat(a,"/").concat(e):"/page/".concat(e)};return d.a.createElement("div",{className:De("pagination")},d.a.createElement(M,{disabled:1===t,to:r(t-1)},"Previous Page"),d.a.createElement("div",{className:De("number")},"Page ",t),d.a.createElement(M,{disabled:t===n,to:r(t+1)},"Next Page"))};function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var Ge=Object(G.a)("list/GET_POST_LIST",function(e){var t=e.tag,n=e.page;return H.a.get(J+"/api/posts/?".concat(K.a.stringify({tag:t,page:n})))},function(e){return e}),xe=Object(B.b)({posts:Object(B.a)(),lastPage:null}),Be=Object(x.a)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach(function(t){Object(_.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},Object(z.pender)({type:"list/GET_POST_LIST",onSuccess:function(e,t){var n=t.payload.data,a=t.payload.headers["last-page"];return e.set("posts",Object(B.c)(n)).set("lastPage",parseInt(a,10))}})),xe),ze=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).getPostList=function(){var e=n.props,t=e.tag,a=e.page;e.ListActions.getPostList({page:a,tag:t})},n}return Object(k.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.getPostList()}},{key:"componentDidUpdate",value:function(e,t){e.page===this.props.page&&e.tag===this.props.tag||(this.getPostList(),document.documentElement.scrollTop=0)}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.posts,a=e.page,r=e.lastPage,o=e.tag;return t?null:d.a.createElement("div",null,d.a.createElement(Se,{posts:n}),d.a.createElement(Te,{page:a,lastPage:r,tag:o}))}}]),t}(u.Component),Re=Object(re.b)(function(e){return{lastPage:e.list.get("lastPage"),posts:e.list.get("posts"),loading:e.pender.pending["list/GET_POST_LIST"]}},function(e){return{ListActions:Object(oe.b)(r,e)}})(ze),Ue=function(e){var t=e.match.params,n=t.page,a=void 0===n?1:n,r=t.tag;return d.a.createElement(he,null,d.a.createElement(Ee,null,d.a.createElement(Re,{page:parseInt(a,10),tag:r})))},He=n(61),We=n.n(He),Ke=O.a.bind(We.a),Je=function(e){var t=e.publishedDate,n=e.title,a=e.tags;return d.a.createElement("div",{className:Ke("post-info")},d.a.createElement("div",{className:Ke("info")},d.a.createElement("h1",null,n),d.a.createElement("div",{className:Ke("tags")},a&&a.map(function(e){return d.a.createElement(m.b,{key:e,to:"/tag/".concat(e)},"#",e)})),d.a.createElement("div",{className:Ke("date")},Pe()(t).format("ll"))))},Ze=n(62),Ve=n.n(Ze),Fe=n(63),qe=n.n(Fe),Xe=n(41),$e=n.n(Xe),Qe=n(42),Ye=n.n(Qe),et=(n(108),n(109),n(110),n(111),n(112),O.a.bind(qe.a)),tt=function(e){function t(e){var n;Object(j.a)(this,t),(n=Object(y.a)(this,Object(w.a)(t).call(this,e))).state={html:""},n.renderMarkdown=function(){var e=n.props.markdown;e?n.setState({html:$e()(e,{breaks:!0,sanitize:!0})}):n.setState({html:""})};var a=e.markdown;return n.state={html:a?$e()(e.markdown,{breaks:!0,sanitize:!0}):""},n}return Object(k.a)(t,e),Object(E.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.markdown!==this.props.markdown&&this.renderMarkdown(),t.html!==this.state.html&&Ye.a.highlightAll()}},{key:"componentDidMount",value:function(){Ye.a.highlightAll()}},{key:"render",value:function(){var e={__html:this.state.html};return d.a.createElement("div",{className:et("markdown-render"),dangerouslySetInnerHTML:e})}}]),t}(u.Component),nt=O.a.bind(Ve.a),at=function(e){var t=e.body;return d.a.createElement("div",{className:nt("post-body")},d.a.createElement("div",{className:nt("paper")},d.a.createElement(tt,{markdown:t})))};function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var ot,ct=Object(G.a)("post/GET_POST",Z),it=Object(G.a)("post/REMOVE_POST",function(e){return H.a.delete("/api/posts/".concat(e))}),st=Object(B.b)({post:Object(B.b)({})}),lt=Object(x.a)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach(function(t){Object(_.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},Object(z.pender)({type:"post/GET_POST",onSuccess:function(e,t){var n=t.payload.data;return e.set("post",Object(B.c)(n))}})),st),ut=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).initialize=function(){var e,t,a;return le.a.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e=n.props,t=e.PostActions,a=e.id,r.prev=1,r.next=4,le.a.awrap(t.getPost(a));case 4:r.next=9;break;case 6:r.prev=6,r.t0=r.catch(1),console.log(r.t0);case 9:case"end":return r.stop()}},null,null,[[1,6]])},n}return Object(k.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.initialize()}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.post;if(t)return null;var a=n.toJS(),r=a.title,o=a.body,c=a.publishedDate,i=a.tags;return d.a.createElement("div",null,d.a.createElement(Je,{title:r,publishedDate:c,tags:i}),d.a.createElement(at,{body:o}))}}]),t}(u.Component),dt=Object(re.b)(function(e){return{post:e.post.get("post"),loading:e.pender.pending["post/GET_POST"]}},function(e){return{PostActions:Object(oe.b)(o,e)}})(ut),pt=n(64),bt=n.n(pt),mt=n(65),ft=n.n(mt),gt=O.a.bind(ft.a),ht=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={animate:!1},n.startAnimations=function(){n.setState({animate:!0}),setTimeout(function(){n.setState({animate:!1})},250)},n}return Object(k.a)(t,e),Object(E.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.visible!==this.props.visible&&this.startAnimations()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.visible,a=this.state.animate;if(!n&&!a)return null;var r=a&&(n?"enter":"leave");return d.a.createElement("div",null,d.a.createElement("div",{className:gt("gray-background",r)}),d.a.createElement("div",{className:gt("modal-wrapper")},d.a.createElement("div",{className:gt("modal",r)},t)))}}]),t}(u.Component),vt=O.a.bind(bt.a),Ot=function(e){var t=e.visible,n=e.onConfirm,a=e.onCancel;return d.a.createElement(ht,{visible:t},d.a.createElement("div",{className:vt("question")},d.a.createElement("div",{className:vt("title")},"Remove Post"),d.a.createElement("div",{className:vt("description")},"Do you want to delete the Post?")),d.a.createElement("div",{className:vt("options")},d.a.createElement(M,{theme:"gray",onClick:a},"Cancel"),d.a.createElement(M,{onClick:n},"Remove")))},jt=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).handleCancel=function(){n.props.BaseActions.hideModal("remove")},n.handleConfirm=function(){var e,t,a,r,o,c;return le.a.async(function(i){for(;;)switch(i.prev=i.next){case 0:return e=n.props,t=e.BaseActions,a=e.PostActions,r=e.history,o=e.match,c=o.params.id,i.prev=2,i.next=5,le.a.awrap(a.removePost(c));case 5:t.hideModal("remove"),r.push("/"),i.next=12;break;case 9:i.prev=9,i.t0=i.catch(2),console.log(i.t0);case 12:case"end":return i.stop()}},null,null,[[2,9]])},n}return Object(k.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.visible,t=this.handleCancel,n=this.handleConfirm;return d.a.createElement(Ot,{visible:e,onCancel:t,onConfirm:n})}}]),t}(u.Component),Et=Object(re.b)(function(e){return{visible:e.base.getIn(["modal","remove"])}},function(e){return{BaseActions:Object(oe.b)(a,e),PostActions:Object(oe.b)(o,e)}})(Object(f.f)(jt)),yt=function(e){var t=e.match.params.id;return d.a.createElement(he,null,d.a.createElement(dt,{id:t}),d.a.createElement(Et,null))},wt=n(66),kt=n.n(wt),Pt=O.a.bind(kt.a),Nt=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={leftPercentage:.5},n.handleMouseMove=function(e){n.setState({leftPercentage:e.clientX/window.innerWidth})},n.handleMouseUp=function(e){document.body.removeEventListener("mousemove",n.handleMouseMove),window.removeEventListener("mouseup",n.handleMouseUp)},n.handleSeparatorMouseDown=function(e){document.body.addEventListener("mousemove",n.handleMouseMove),window.addEventListener("mouseup",n.handleMouseUp)},n}return Object(k.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.header,n=e.editor,a=e.preview,r=this.state.leftPercentage,o=this.handleSeparatorMouseDown,c={flex:r},i={flex:1-r},s={left:"".concat(100*r,"%")};return d.a.createElement("div",{className:Pt("editor-template")},t,d.a.createElement("div",{className:Pt("panes")},d.a.createElement("div",{className:Pt("pane","editor"),style:c},n),d.a.createElement("div",{className:Pt("pane","preview"),style:i},a),d.a.createElement("div",{className:Pt("separator"),style:s,onMouseDown:o})))}}]),t}(u.Component),Ct=n(67),It=n.n(Ct),At=O.a.bind(It.a),St=function(e){var t=e.onGoBack,n=e.onSubmit,a=e.isEdit;return d.a.createElement("div",{className:At("editor-header")},d.a.createElement("div",{className:At("back")},d.a.createElement(M,{onClick:t,theme:"outline"},"Go back")),d.a.createElement("div",{className:At("submit")},d.a.createElement(M,{onClick:n,theme:"outline"},a?"Edit":"Submit")))},Lt=n(68),Mt=n.n(Lt),Dt=n(22),Tt=n.n(Dt),_t=(n(113),n(50),n(115),n(116),n(117),n(118),n(119),O.a.bind(Mt.a)),Gt=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).editor=null,n.codeMirror=null,n.cursor=null,n.initializeEditor=function(){n.codeMirror=Tt()(n.editor,{mode:"markdown",theme:"monokai",lineNumbers:!0,lineWrapping:!0}),n.codeMirror.on("change",n.handleChangeMarkdown)},n.handleChange=function(e){var t=n.props.onChangeInput,a=e.target,r=a.value;t({name:a.name,value:r})},n.handleChangeMarkdown=function(e){var t=n.props.onChangeInput;n.cursor=e.getCursor(),t({name:"markdown",value:e.getValue()})},n}return Object(k.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.initializeEditor()}},{key:"componentDidUpdate",value:function(e,t){if(e.markdown!==this.props.markdown){var n=this.codeMirror,a=this.cursor;if(!n)return;if(n.setValue(this.props.markdown),!a)return;n.setCursor(a)}}},{key:"render",value:function(){var e=this,t=this.handleChange,n=this.props,a=n.tags,r=n.title;return d.a.createElement("div",{className:_t("editor-pane")},d.a.createElement("input",{className:_t("title"),placeholder:"Write the title",name:"title",value:r,onChange:t}),d.a.createElement("div",{className:_t("code-editor"),ref:function(t){return e.editor=t}}),d.a.createElement("div",{className:_t("tags")},d.a.createElement("div",{className:_t("description")},"Tag"),d.a.createElement("input",{name:"tags",placeholder:"Input the tag (seperate with ,)",value:a,onChange:t})))}}]),t}(u.Component);function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var Bt=Object(G.a)("editor/INITIALIZE"),zt=Object(G.a)("editor/CHANGE_INPUT"),Rt=Object(G.a)("editor/WRITE_POST",function(e){var t=e.title,n=e.body,a=e.tags;return H.a.post(J+"/api/posts",{title:t,body:n,tags:a})}),Ut=Object(G.a)("editor/GET_POST",Z),Ht=Object(G.a)("editor/EDIT_POST",function(e){var t=e.id,n=e.title,a=e.body,r=e.tags;return H.a.patch(J+"/api/posts/".concat(t),{title:n,body:a,tags:r})}),Wt=Object(B.b)({title:"",markdown:"",tags:"",postId:null}),Kt=Object(x.a)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach(function(t){Object(_.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}((ot={},Object(_.a)(ot,"editor/INITIALIZE",function(e,t){return Wt}),Object(_.a)(ot,"editor/CHANGE_INPUT",function(e,t){var n=t.payload,a=n.name,r=n.value;return e.set(a,r)}),ot),Object(z.pender)({type:"editor/WRITE_POST",onSuccess:function(e,t){var n=t.payload.data._id;return e.set("postId",n)}}),{},Object(z.pender)({type:"editor/GET_POST",onSuccess:function(e,t){var n=t.payload.data,a=n.title,r=n.tags,o=n.body;return e.set("title",a).set("markdown",o).set("tags",r.join(", "))}})),Wt),Jt=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).handleChangeInput=function(e){var t=e.name,a=e.value;n.props.EditorActions.changeInput({name:t,value:a})},n}return Object(k.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.tags,a=e.markdown,r=this.handleChangeInput;return d.a.createElement(Gt,{title:t,markdown:a,tags:n,onChangeInput:r})}}]),t}(u.Component),Zt=Object(re.b)(function(e){return{title:e.editor.get("title"),markdown:e.editor.get("markdown"),tags:e.editor.get("tags")}},function(e){return{EditorActions:Object(oe.b)(c,e)}})(Jt),Vt=n(69),Ft=n.n(Vt),qt=O.a.bind(Ft.a),Xt=function(e){var t=e.markdown,n=e.title;return d.a.createElement("div",{className:qt("preview-pane")},d.a.createElement("h1",{className:qt("title")},n),d.a.createElement("div",null,d.a.createElement(tt,{markdown:t})))},$t=function(e){function t(){return Object(j.a)(this,t),Object(y.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.markdown,n=e.title;return d.a.createElement(Xt,{title:n,markdown:t})}}]),t}(u.Component),Qt=Object(re.b)(function(e){return{title:e.editor.get("title"),markdown:e.editor.get("markdown")}})($t),Yt=n(71);function en(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?en(Object(n),!0).forEach(function(t){Object(_.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var nn=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).handleGoback=function(){n.props.history.goBack()},n.handleSubmit=function(){var e,t,a,r,o,c,i,s,l,u;return le.a.async(function(d){for(;;)switch(d.prev=d.next){case 0:if(e=n.props,t=e.title,a=e.markdown,r=e.tags,o=e.EditorActions,c=e.history,i=e.location,s={title:t,body:a,tags:""===r?[]:Object(Yt.a)(new Set(r.split(",").map(function(e){return e.trim()})))},d.prev=2,l=K.a.parse(i.search),!(u=l.id)){d.next=9;break}return d.next=7,le.a.awrap(o.editPost(tn({id:u},s)));case 7:return c.push("/post/".concat(u)),d.abrupt("return");case 9:return d.next=11,le.a.awrap(o.writePost(s));case 11:c.push("/post/".concat(n.props.postId)),d.next=17;break;case 14:d.prev=14,d.t0=d.catch(2),console.log(d.t0);case 17:case"end":return d.stop()}},null,null,[[2,14]])},n}return Object(k.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.EditorActions,n=e.location;t.initialize();var a=K.a.parse(n.search).id;a&&t.getPost(a)}},{key:"render",value:function(){var e=this.handleGoback,t=this.handleSubmit,n=K.a.parse(this.props.location.search).id;return d.a.createElement(St,{onGoBack:e,onSubmit:t,isEdit:!!n})}}]),t}(u.Component),an=Object(re.b)(function(e){return{title:e.editor.get("title"),markdown:e.editor.get("markdown"),tags:e.editor.get("tags"),postId:e.editor.get("postId")}},function(e){return{EditorActions:Object(oe.b)(c,e)}})(Object(f.f)(nn)),rn=function(){return d.a.createElement(Nt,{header:d.a.createElement(an,null),editor:d.a.createElement(Zt,null),preview:d.a.createElement(Qt,null)})},on=function(){return d.a.createElement("div",null,"NotFound")},cn=n(70),sn=n.n(cn),ln=O.a.bind(sn.a),un=function(e){var t=e.visible,n=e.password,a=e.error,r=e.onCancel,o=e.onLogin,c=e.onChange,i=e.onKeyPress;return d.a.createElement(ht,{visible:t},d.a.createElement("div",{className:ln("form")},d.a.createElement("div",{onClick:r,className:ln("close")},"\xd7"),d.a.createElement("div",{className:ln("title")},"Login"),d.a.createElement("div",{className:ln("description")},"Please enter your password"),d.a.createElement("input",{autoFocus:!0,type:"password",placeholder:"input password",value:n,onChange:c,onKeyPress:i}),a&&d.a.createElement("div",{className:ln("error")},"Login failed"),d.a.createElement("div",{className:ln("login"),onClick:o},"Login")))},dn=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).handleLogin=function(){var e,t,a;return le.a.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e=n.props,t=e.BaseActions,a=e.password,r.prev=1,r.next=4,le.a.awrap(t.login(a));case 4:t.hideModal("login"),localStorage.logged="true",r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),console.log(r.t0);case 11:case"end":return r.stop()}},null,null,[[1,8]])},n.handleCancel=function(){n.props.BaseActions.hideModal("login")},n.handleChange=function(e){var t=n.props.BaseActions,a=e.target.value;t.changePasswordInput(a)},n.handleKeyPress=function(e){"Enter"===e.key&&n.handleLogin()},n}return Object(k.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.handleLogin,t=this.handleCancel,n=this.handleChange,a=this.handleKeyPress,r=this.props,o=r.visible,c=r.error,i=r.password;return d.a.createElement(un,{onLogin:e,onCancel:t,onChange:n,onKeyPress:a,visible:o,error:c,password:i})}}]),t}(u.Component),pn=Object(re.b)(function(e){return{visible:e.base.getIn(["modal","login"]),password:e.base.getIn(["loginModal","password"]),error:e.base.getIn(["loginModal","error"])}},function(e){return{BaseActions:Object(oe.b)(a,e)}})(dn),bn=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).initialize=function(){var e;return le.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:e=n.props.BaseActions,"true"===localStorage.logged&&e.tempLogin(),e.checkLogin();case 3:case"end":return t.stop()}})},n}return Object(k.a)(t,e),Object(E.a)(t,[{key:"comoponentDidMount",value:function(){this.initialize()}},{key:"render",value:function(){return d.a.createElement("div",null,d.a.createElement(pn,null))}}]),t}(u.Component),mn=Object(re.b)(null,function(e){return{BaseActions:Object(oe.b)(a,e)}})(bn),fn=function(){return d.a.createElement("div",null,d.a.createElement(f.c,null,d.a.createElement(f.a,{exact:!0,path:"/",component:Ue}),d.a.createElement(f.a,{path:"/page/:page",component:Ue}),d.a.createElement(f.a,{path:"/tag/:tag/:page?",component:Ue}),d.a.createElement(f.a,{path:"/post/:id",component:yt}),d.a.createElement(f.a,{path:"/editor",component:rn}),d.a.createElement(f.a,{component:on})),d.a.createElement(mn,null))},gn=Object(oe.c)(i),hn=[R()()],vn=oe.d,On=function(e){return Object(oe.e)(gn,e,vn(oe.a.apply(void 0,hn)))}(),jn=function(){return d.a.createElement(re.a,{store:On},d.a.createElement(m.a,null,d.a.createElement(fn,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(120);b.a.render(d.a.createElement(jn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},73:function(e,t,n){e.exports=n(121)}},[[73,1,2]]]);
//# sourceMappingURL=main.ce1ee51c.chunk.js.map